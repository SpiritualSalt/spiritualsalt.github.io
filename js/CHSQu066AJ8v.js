/*! yt-player. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var $jscomp={scope:{},global:this,initSymbolIterator:function(){Symbol=$jscomp.global.Symbol||{},Symbol.iterator||(Symbol.iterator="$jscomp$iterator"),$jscomp.initSymbolIterator=function(){}},makeIterator:function(e){if($jscomp.initSymbolIterator(),e[Symbol.iterator])return e[Symbol.iterator]();if(!(e instanceof Array)&&"string"!=typeof e)throw Error();var t=0;return{next:function(){return t==e.length?{done:!0}:{done:!1,value:e[t++]}}}},inherits:function(e,t){function r(){}for(var o in r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,t)if($jscomp.global.Object.defineProperties){var a=$jscomp.global.Object.getOwnPropertyDescriptor(t,o);void 0!==a&&$jscomp.global.Object.defineProperty(e,o,a)}else e[o]=t[o]}},EventEmitter=function(){this.events={}};EventEmitter.prototype.on=function(e,t){"object"!=typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t)},EventEmitter.prototype.removeListener=function(e,t){var r;"object"==typeof this.events[e]&&(-1<(r=this.indexOf(this.events[e],t))&&this.events[e].splice(r,1))},EventEmitter.prototype.emit=function(e){var t,r,o,a=[].slice.call(arguments,1);if("object"==typeof this.events[e])for(o=(r=this.events[e].slice()).length,t=0;t<o;t++)r[t].apply(this,a)},EventEmitter.prototype.once=function(e,t){this.on(e,(function r(){this.removeListener(e,r),t.apply(this,arguments)}))};var loadScript=function(e,t,r){return new Promise((function(o,a){var i=document.createElement("script");i.async=!0,i.src=e;for(var n=$jscomp.makeIterator(Object.entries(t||{})),s=n.next();!s.done;s=n.next())s=s.value,i.setAttribute(s[0],s[1]);i.onload=function(){i.onerror=i.onload=null,o(i)},i.onerror=function(){i.onerror=i.onload=null,a(Error("Failed to load "+e))},(r||document.head||document.getElementsByTagName("head")[0]).appendChild(i)}))},YOUTUBE_IFRAME_API_SRC="https://www.youtube.com/iframe_api",YOUTUBE_STATES={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"cued"},YOUTUBE_ERROR={INVALID_PARAM:2,HTML5_ERROR:5,NOT_FOUND:100,UNPLAYABLE_1:101,UNPLAYABLE_2:150},loadIframeAPICallbacks=[];YouTubePlayer=function(e,t){var r=this;EventEmitter.call(this);var o="string"==typeof e?document.querySelector(e):e;this._id=o.id?o.id:o.id="ytplayer-"+Math.random().toString(16).slice(2,8),this._opts=Object.assign({width:640,height:360,autoplay:!1,captions:void 0,controls:!0,keyboard:!0,fullscreen:!0,annotations:!0,modestBranding:!1,related:!0,timeupdateFrequency:1e3,playsInline:!0,start:0},t),this.videoId=null,this.destroyed=!1,this._api=null,this._autoplay=!1,this._player=null,this._ready=!1,this._queue=[],this.replayInterval=[],this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this.on("playing",this._startInterval),this.on("unstarted",this._stopInterval),this.on("ended",this._stopInterval),this.on("paused",this._stopInterval),this.on("buffering",this._stopInterval),this._loadIframeAPI((function(e,t){if(e)return r._destroy(Error("YouTube Iframe API failed to load"));r._api=t,r.videoId&&r.load(r.videoId,r._autoplay,r._start)}))},$jscomp.inherits(YouTubePlayer,EventEmitter),YouTubePlayer.prototype.indexOf=function(e,t){for(var r=0,o=e.length,a=-1,i=!1;r<o&&!i;)e[r]===t&&(a=r,i=!0),r++;return a},YouTubePlayer.prototype.load=function(e,t,r){t=void 0!==t&&t,r=void 0===r?0:r,this.destroyed||(this._startOptimizeDisplayEvent(),this._optimizeDisplayHandler("center, center"),this.videoId=e,this._autoplay=t,this._start=r,this._api&&(this._player?this._ready&&(t?this._player.loadVideoById(e,r):this._player.cueVideoById(e,r)):this._createPlayer(e)))},YouTubePlayer.prototype.play=function(){this._ready?this._player.playVideo():this._queueCommand("play")},YouTubePlayer.prototype.replayFrom=function(e){var t=this;!this.replayInterval.find((function(e){return e.iframeParent===t._player.h.parentNode}))&&e&&this.replayInterval.push({iframeParent:this._player.h.parentNode,interval:setInterval((function(){if(t._player.getCurrentTime()>=t._player.getDuration()-Number(e)){t.seek(0);for(var r=$jscomp.makeIterator(t.replayInterval.entries()),o=r.next();!o.done;o=r.next())o=o.value[0],Object.hasOwnProperty.call(t.replayInterval,o)&&(clearInterval(t.replayInterval[o].interval),t.replayInterval.splice(o,1))}}),1e3*Number(e))})},YouTubePlayer.prototype.pause=function(){this._ready?this._player.pauseVideo():this._queueCommand("pause")},YouTubePlayer.prototype.stop=function(){this._ready?this._player.stopVideo():this._queueCommand("stop")},YouTubePlayer.prototype.seek=function(e){this._ready?this._player.seekTo(e,!0):this._queueCommand("seek",e)},YouTubePlayer.prototype._optimizeDisplayHandler=function(e){if(this._player){var t,r,o=this._player.h;if(e=e.split(","),o)if(t=o.parentElement){var a=window.getComputedStyle(t);for(var i in r=t.clientHeight+parseFloat(a.marginTop,10)+parseFloat(a.marginBottom,10)+parseFloat(a.borderTopWidth,10)+parseFloat(a.borderBottomWidth,10),t=t.clientWidth+parseFloat(a.marginLeft,10)+parseFloat(a.marginRight,10)+parseFloat(a.borderLeftWidth,10)+parseFloat(a.borderRightWidth,10),r+=80,o.style.width=t+"px",o.style.height=Math.ceil(parseFloat(o.style.width,10)/1.7)+"px",o.style.marginTop=Math.ceil(-(parseFloat(o.style.height,10)-r)/2)+"px",o.style.marginLeft=0,(a=parseFloat(o.style.height,10)<r)&&(o.style.height=r+"px",o.style.width=Math.ceil(1.7*parseFloat(o.style.height,10))+"px",o.style.marginTop=0,o.style.marginLeft=Math.ceil(-(parseFloat(o.style.width,10)-t)/2)+"px"),e)if(e.hasOwnProperty(i))switch(e[i].replace(/ /g,"")){case"top":o.style.marginTop=a?-(parseFloat(o.style.height,10)-r)/2+"px":0;break;case"bottom":o.style.marginTop=a?0:-(parseFloat(o.style.height,10)-r)+"px";break;case"left":o.style.marginLeft=0;break;case"right":o.style.marginLeft=a?-(parseFloat(o.style.width,10)-t):"0px";break;default:parseFloat(o.style.width,10)>t&&(o.style.marginLeft=-(parseFloat(o.style.width,10)-t)/2+"px")}}}},YouTubePlayer.prototype.stopResize=function(){window.removeEventListener("resize",this._resizeListener),this._resizeListener=null},YouTubePlayer.prototype.stopReplay=function(e){for(var t=$jscomp.makeIterator(this.replayInterval.entries()),r=t.next();!r.done;r=t.next())r=r.value[0],Object.hasOwnProperty.call(this.replayInterval,r)&&e===this.replayInterval[r].iframeParent&&(clearInterval(this.replayInterval[r].interval),this.replayInterval.splice(r,1))},YouTubePlayer.prototype.setVolume=function(e){this._ready?this._player.setVolume(e):this._queueCommand("setVolume",e)},YouTubePlayer.prototype.loadPlaylist=function(){this._ready?this._player.loadPlaylist(this.videoId):this._queueCommand("loadPlaylist",this.videoId)},YouTubePlayer.prototype.setLoop=function(e){this._ready?this._player.setLoop(e):this._queueCommand("setLoop",e)},YouTubePlayer.prototype.getVolume=function(){return this._ready&&this._player.getVolume()||0},YouTubePlayer.prototype.mute=function(){this._ready?this._player.mute():this._queueCommand("mute")},YouTubePlayer.prototype.unMute=function(){this._ready?this._player.unMute():this._queueCommand("unMute")},YouTubePlayer.prototype.isMuted=function(){return this._ready&&this._player.isMuted()||!1},YouTubePlayer.prototype.setSize=function(e,t){this._ready?this._player.setSize(e,t):this._queueCommand("setSize",e,t)},YouTubePlayer.prototype.setPlaybackRate=function(e){this._ready?this._player.setPlaybackRate(e):this._queueCommand("setPlaybackRate",e)},YouTubePlayer.prototype.setPlaybackQuality=function(e){this._ready?this._player.setPlaybackQuality(e):this._queueCommand("setPlaybackQuality",e)},YouTubePlayer.prototype.getPlaybackRate=function(){return this._ready&&this._player.getPlaybackRate()||1},YouTubePlayer.prototype.getAvailablePlaybackRates=function(){return this._ready&&this._player.getAvailablePlaybackRates()||[1]},YouTubePlayer.prototype.getDuration=function(){return this._ready&&this._player.getDuration()||0},YouTubePlayer.prototype.getProgress=function(){return this._ready&&this._player.getVideoLoadedFraction()||0},YouTubePlayer.prototype.getState=function(){return this._ready&&YOUTUBE_STATES[this._player.getPlayerState()]||"unstarted"},YouTubePlayer.prototype.getCurrentTime=function(){return this._ready&&this._player.getCurrentTime()||0},YouTubePlayer.prototype.destroy=function(){this._destroy()},YouTubePlayer.prototype._destroy=function(e){this.destroyed||(this.destroyed=!0,this._player&&(this._player.stopVideo&&this._player.stopVideo(),this._player.destroy()),this._player=this._api=this._opts=this._id=this.videoId=null,this._ready=!1,this._queue=null,this._stopInterval(),this.removeListener("playing",this._startInterval),this.removeListener("paused",this._stopInterval),this.removeListener("buffering",this._stopInterval),this.removeListener("unstarted",this._stopInterval),this.removeListener("ended",this._stopInterval),e&&this.emit("error",e))},YouTubePlayer.prototype._queueCommand=function(e,t){for(var r=[],o=1;o<arguments.length;++o)r[o-1]=arguments[o];this.destroyed||this._queue.push([e,r])},YouTubePlayer.prototype._flushQueue=function(){for(;this._queue.length;){var e=this._queue.shift();this[e[0]].apply(this,e[1])}},YouTubePlayer.prototype._loadIframeAPI=function(e){if(window.YT&&"function"==typeof window.YT.Player)return e(null,window.YT);loadIframeAPICallbacks.push(e),Array.from(document.getElementsByTagName("script")).some((function(e){return e.src===YOUTUBE_IFRAME_API_SRC}))||loadScript(YOUTUBE_IFRAME_API_SRC).catch((function(e){for(;loadIframeAPICallbacks.length;)loadIframeAPICallbacks.shift()(e)}));var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){for("function"==typeof t&&t();loadIframeAPICallbacks.length;)loadIframeAPICallbacks.shift()(null,window.YT)}},YouTubePlayer.prototype._createPlayer=function(e){var t=this;if(!this.destroyed){var r=this._opts;this._player=new this._api.Player(this._id,{width:r.width,height:r.height,videoId:e,host:r.host,playerVars:{autoplay:r.autoplay?1:0,mute:r.mute?1:0,hl:null!=r.captions&&!1!==r.captions?r.captions:void 0,cc_lang_pref:null!=r.captions&&!1!==r.captions?r.captions:void 0,controls:r.controls?2:0,enablejsapi:1,allowfullscreen:!0,iv_load_policy:r.annotations?1:3,modestbranding:r.modestBranding?1:0,origin:"*",rel:r.related?1:0,mode:"transparent",showinfo:0,html5:1,version:3,playerapiid:"iframe_YTP_1624972482514"},events:{onReady:function(){return t._onReady(e)},onStateChange:function(e){return t._onStateChange(e)},onPlaybackQualityChange:function(e){return t._onPlaybackQualityChange(e)},onPlaybackRateChange:function(e){return t._onPlaybackRateChange(e)},onError:function(e){return t._onError(e)}}})}},YouTubePlayer.prototype._onReady=function(e){this.destroyed||(this._ready=!0,this.load(this.videoId,this._autoplay,this._start),this._flushQueue())},YouTubePlayer.prototype._onStateChange=function(e){if(!this.destroyed){var t=YOUTUBE_STATES[e.data];if(!t)throw Error("Unrecognized state change: "+e);["paused","buffering","ended"].includes(t)&&this._onTimeupdate(),this.emit(t),["unstarted","playing","cued"].includes(t)&&this._onTimeupdate()}},YouTubePlayer.prototype._onPlaybackQualityChange=function(e){this.destroyed||this.emit("playbackQualityChange",e.data)},YouTubePlayer.prototype._onPlaybackRateChange=function(e){this.destroyed||this.emit("playbackRateChange",e.data)},YouTubePlayer.prototype._onError=function(e){if(!this.destroyed&&(e=e.data)!==YOUTUBE_ERROR.HTML5_ERROR){if(e===YOUTUBE_ERROR.UNPLAYABLE_1||e===YOUTUBE_ERROR.UNPLAYABLE_2||e===YOUTUBE_ERROR.NOT_FOUND||e===YOUTUBE_ERROR.INVALID_PARAM)return this.emit("unplayable",this.videoId);this._destroy(Error("YouTube Player Error. Unknown error code: "+e))}},YouTubePlayer.prototype._startOptimizeDisplayEvent=function(){var e=this;this._resizeListener||(this._resizeListener=function(){return e._optimizeDisplayHandler("center, center")},window.addEventListener("resize",this._resizeListener))},YouTubePlayer.prototype._onTimeupdate=function(){this.emit("timeupdate",this.getCurrentTime())},YouTubePlayer.prototype._startInterval=function(){var e=this;this._interval=setInterval((function(){return e._onTimeupdate()}),this._opts.timeupdateFrequency)},YouTubePlayer.prototype._stopInterval=function(){clearInterval(this._interval),this._interval=null};